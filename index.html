<!DOCTYPE html>
<html>
  <head>
    <title>JavaScript - A-Frame School</title>
    <meta name="description" content="JavaScript - A-Frame School">
    <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@^4.0.0/dist/aframe-event-set-component.min.js"></script>
<script src="https://rawgit.com/feiss/aframe-environment-component/master/dist/aframe-environment-component.min.js"></script>
  </head>
  <body>
    <script>
    AFRAME.registerComponent('video-handler1',{
      init: function(){
       let el = this.el;
       let vid = document.querySelector("#dialogue1");
       vid.pause();
       el.addEventListener('mouseenter',function(){
          vid.play();
       });
       el.addEventListener('mouseleave',function(){
          vid.pause();
       });
      }
    });
    </script>
    <script>
    AFRAME.registerComponent('video-handler2',{
      init: function(){
       let el = this.el;
       let vid = document.querySelector("#dialogue2");
       vid.pause();
       el.addEventListener('mouseenter',function(){
          vid.play();
       });
       el.addEventListener('mouseleave',function(){
          vid.pause();
       });
      }
    });
    </script>
    <script>
    AFRAME.registerComponent('video-handler3',{
      init: function(){
       let el = this.el;
       let vid = document.querySelector("#dialogue3");
       vid.pause();
       el.addEventListener('mouseenter',function(){
          vid.play();
       });
       el.addEventListener('mouseleave',function(){
          vid.pause();
       });
      }
    });
    </script>
    <script>
    AFRAME.registerComponent('change-video',{
      init: function(){
       let el = this.el;
       let vid = document.querySelector("#camera");
       vid.setAttribute('src', 'videos/konusma1.mp4');
       vid.pause();
       console.log("Video changed.");
      }
    });
    </script>
    <a-scene school-playground>

      <a-assets>
        <a-asset-item  id="bike-mount-mtl" src="objects/bike mount.mtl"></a-asset-item>
        <a-asset-item  id="bike-mount-obj" src="objects/bike mount.obj"></a-asset-item>
        <a-asset-item  id="coffee-card-mtl" src="objects/coffee-card.mtl"></a-asset-item>
        <a-asset-item  id="coffee-card-obj" src="objects/coffee-card.obj"></a-asset-item>
        <a-asset-item  id="collar-mtl" src="objects/collar.mtl"></a-asset-item>
        <a-asset-item  id="collar-obj" src="objects/collar.obj"></a-asset-item>
        <a-asset-item  id="cup-mtl" src="objects/cup.mtl"></a-asset-item>
        <a-asset-item  id="cup-obj" src="objects/cup.obj"></a-asset-item>
        <a-asset-item  id="earphones-mtl" src="objects/earphones.mtl"></a-asset-item>
        <a-asset-item  id="earphones-obj" src="objects/earphones.obj"></a-asset-item>
        <a-asset-item  id="kidsmagazine-mtl" src="objects/magazine.mtl"></a-asset-item>
        <a-asset-item  id="kidsmagazine-obj" src="objects/magazine.obj"></a-asset-item>
        <a-asset-item  id="notebook-mtl" src="objects/notebook.mtl"></a-asset-item>
        <a-asset-item  id="notebook-obj" src="objects/notebook.obj"></a-asset-item>
        <a-asset-item  id="plushie-mtl" src="objects/plushie.mtl"></a-asset-item>
        <a-asset-item  id="plushie-obj" src="objects/plushie.obj"></a-asset-item>
        <a-asset-item  id="powerbank-mtl" src="objects/powerbank.mtl"></a-asset-item>
        <a-asset-item  id="powerbank-obj" src="objects/powerbank.obj"></a-asset-item>
        <a-asset-item  id="spa-mtl" src="objects/spa.mtl"></a-asset-item>
        <a-asset-item  id="spa-obj" src="objects/spa.obj"></a-asset-item>
        <a-asset-item  id="speakers-mtl" src="objects/speakers.mtl"></a-asset-item>
        <a-asset-item  id="speakers-obj" src="objects/speakers.obj"></a-asset-item>
        <a-asset-item  id="table1-mtl" src="objects/table1.mtl"></a-asset-item>
        <a-asset-item  id="table1-obj" src="objects/table1.obj"></a-asset-item>
        <a-asset-item  id="table2-mtl" src="objects/table2.mtl"></a-asset-item>
        <a-asset-item  id="table2-obj" src="objects/table2.obj"></a-asset-item>
        <a-asset-item  id="table3-mtl" src="objects/table3.mtl"></a-asset-item>
        <a-asset-item  id="table3-obj" src="objects/table3.obj"></a-asset-item>
        <a-asset-item  id="toytrucs-obj" src="objects/toytrucs.obj"></a-asset-item>
        <a-asset-item  id="toytrucs-mtl" src="objects/toytrucs.mtl"></a-asset-item>
        <a-asset-item  id="bike-mount-img" src="images/obj_imgs/bikemount.png"></a-asset-item>
        <a-asset-item  id="coffeecard-img" src="images/obj_imgs/coffeecard.png"></a-asset-item>
        <a-asset-item  id="collar-img" src="images/obj_imgs/collar.png"></a-asset-item>
        <a-asset-item  id="cup-img" src="images/obj_imgs/cup.png"></a-asset-item>
        <a-asset-item  id="earphones-img" src="images/obj_imgs/earphones.png"></a-asset-item>
        <a-asset-item  id="kidsmagazine-img" src="images/obj_imgs/kidsmagazine.png"></a-asset-item>
        <a-asset-item  id="notebook-img" src="images/obj_imgs/notebook.png"></a-asset-item>
        <a-asset-item  id="plushie-img" src="images/obj_imgs/plushie.png"></a-asset-item>
        <a-asset-item  id="powerbank-img" src="images/obj_imgs/powerbank.png"></a-asset-item>
        <a-asset-item  id="spa-img" src="images/obj_imgs/spa.png"></a-asset-item>
        <a-asset-item  id="speakers-img" src="images/obj_imgs/speakers.png"></a-asset-item>
        <a-asset-item  id="toytrucs-img" src="images/obj_imgs/toytrucs.png"></a-asset-item>

        <!-- persons -->
        <a-asset-item id="person1-mtl" src="objects/person1.mtl"></a-asset-item>
        <a-asset-item id="person1-obj" src="objects/person1.obj"></a-asset-item>
        <!-- skies -->
        <a-asset-item id="sky1" src="images/skies/1.jpg"></a-asset-item>

        <!-- dialogue videos -->
        <video id="dialogue1" src="videos/konusma1.mp4"></video>
        <video id="dialogue2" src="videos/konusma2.mp4"></video>
        <video id="dialogue3" src="videos/konusma3.mp4"></video>
      </a-assets>
<a-entity id="camera" position="4.607 2 15.941" camera look-controls wasd-controls>
  <a-entity cursor="fuse: true; fuseTimeout: 500"
            position="0 0 -1"
            geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
            material="color: black; shader: flat">
  </a-entity>
</a-entity>
<a-entity scale="4 4 4" position="0 -3 0">
<!-- Table 1 -->
      <a-entity obj-model="obj: #table1-obj; mtl: #table1-mtl" position="-1 0.75 3"
      event-set__enter="_event: mouseenter; _target: #camera; position: -3.508 1.7 16.275"
      ></a-entity>
      <a-plane id="video_plane" material="src : #dialogue1" width="1.77" height="1" position="-0.93 1.504 2.696" scale="0.507 0.507 0.507" video-handler1></a-plane>
      <a-image id="changing_image_desk1" position="-0.910 1.109 2.576" scale="0.5 0.235 1"></a-image>

      <a-entity log="coffee" obj-model="obj: #coffee-card-obj; mtl: #coffee-card-mtl" position="1 0.75 3"
      event-set__enter="_event: mouseenter; _target: #changing_image_desk1; src: #coffeecard-img; visible: true"
      event-set__leave="_event: mouseleave; _target: #changing_image_desk1;"
      ></a-entity>
      <a-entity obj-model="obj: #spa-obj; mtl: #spa-mtl" position="1 0.75 3"
      event-set__enter="_event: mouseenter; _target: #changing_image_desk1; src: #spa-img; visible: true"
      event-set__leave="_event: mouseleave; _target: #changing_image_desk1; "
      ></a-entity>
      <a-entity obj-model="obj: #notebook-obj; mtl: #notebook-mtl" position="1 0.75 3"
      event-set__enter="_event: mouseenter; _target: #changing_image_desk1; src: #notebook-img; visible: true"
      event-set__leave="_event: mouseleave; _target: #changing_image_desk1; "
      ></a-entity>
      <a-entity obj-model="obj: #cup-obj; mtl: #cup-mtl" position="1 0.75 3"
      event-set__enter="_event: mouseenter; _target: #changing_image_desk1; src: #cup-img; visible: true"
      event-set__leave="_event: mouseleave; _target: #changing_image_desk1;"
      ></a-entity>



<!-- Table 2 -->
      <a-entity obj-model="obj: #table2-obj; mtl: #table2-mtl" position="1 0.75 3"
      event-set__enter="_event: mouseenter; _target: #camera; position: 4.514 1.7 16.275"
      ></a-entity>
      <a-plane id="video_plane" material="src : #dialogue2" width="1.77" height="1" position= "1.106 1.504 2.696" scale="0.507 0.507 0.507" video-handler2></a-plane>
      <a-image id="changing_image_desk2" position="1.127 1.109 2.576" scale="0.5 0.235 1"></a-image>


      <a-entity obj-model="obj: #collar-obj; mtl: #collar-mtl" position="1 0.75 3"
      event-set__enter="_event: mouseenter; _target: #changing_image_desk2; src: #collar-img; visible: true"
      event-set__leave="_event: mouseleave; _target: #changing_image_desk2; "
      ></a-entity>
      <a-entity obj-model="obj: #plushie-obj; mtl: #plushie-mtl" position="1 0.75 3"
      event-set__enter="_event: mouseenter; _target: #changing_image_desk2; src: #plushie-img; visible: true"
      event-set__leave="_event: mouseleave; _target: #changing_image_desk2; "
      ></a-entity>
      <a-entity obj-model="obj: #toytrucs-obj; mtl: #toytrucs-mtl" position="1 0.75 3"
      event-set__enter="_event: mouseenter; _target: #changing_image_desk2; src: #toytrucs-img; visible: true"
      event-set__leave="_event: mouseleave; _target: #changing_image_desk2; "
      ></a-entity>
      <a-entity obj-model="obj: #kidsmagazine-obj; mtl: #kidsmagazine-mtl" position="1 0.75 3"
      event-set__enter="_event: mouseenter; _target: #changing_image_desk2; src: #kidsmagazine-img; visible: true"
      event-set__1="_event: mouseenter; _target: #dialogue2; play"
      event-set__leave="_event: mouseleave; _target: #changing_image_desk2; "
      ></a-entity>
<!-- Table 3 -->
      <a-entity obj-model="obj: #table3-obj; mtl: #table3-mtl" position="1 0.75 3"
      event-set__enter="_event: mouseenter; _target: #camera; position: 12 1.7 16.275"
      ></a-entity>
      <a-plane id="video_plane" material="src : #dialogue3" width="1.77" height="1" position="2.998 1.504 2.696" scale="0.507 0.507 0.507" video-handler3></a-plane>
      <a-image id="changing_image_desk3" position="3.041 1.109 2.576" scale="0.5 0.235 1"></a-image>


      <a-entity obj-model="obj: #earphones-obj; mtl: #earphones-mtl" position="1 0.75 3"
      event-set__enter="_event: mouseenter; _target: #changing_image_desk3; src: #earphones-img; visible: true"
      event-set__leave="_event: mouseleave; _target: #changing_image_desk3; "
      ></a-entity>
      <a-entity obj-model="obj: #bike-mount-obj; mtl: #bike-mount-mtl" position="1 0.75 3"
      event-set__enter="_event: mouseenter; _target: #changing_image_desk3; src: #bike-mount-img; visible: true"
      event-set__leave="_event: mouseleave; _target: #changing_image_desk3;"
      ></a-entity>
	    <a-entity obj-model="obj: #powerbank-obj; mtl: #powerbank-mtl" position="1 0.75 3"
      event-set__enter="_event: mouseenter; _target: #changing_image_desk3; src: #powerbank-img; visible: true"
      event-set__leave="_event: mouseleave; _target: #changing_image_desk3;"
      ></a-entity>
      <a-entity obj-model="obj: #speakers-obj; mtl: #speakers-mtl" position="1 0.75 3"
      event-set__enter="_event: mouseenter; _target: #changing_image_desk3; src: #speakers-img; visible: true"
      event-set__leave="_event: mouseleave; _target: #changing_image_desk3;"
      ></a-entity>
<!-- End tables -->
</a-entity>

    <!--  <a-sky src="#sky1" radius=5000></a-sky> -->
<!-- <a-entity environment></a-entity> -->
    </a-scene>

  </body>
</html>
